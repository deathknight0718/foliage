<?xml version="1.0" encoding="UTF-8"?>
<!--
  Copyright 2020 Greatwall
  
  Licensed under the Apache License, Version 2.0 (the "License"); you may not
  use this file except in compliance with the License.  You may obtain a copy
  of the License at
  
    http://www.apache.org/licenses/LICENSE-2.0
  
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
  WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  See the
  License for the specific language governing permissions and limitations under
  the License.
-->
<assembly xmlns="http://maven.apache.org/ASSEMBLY/2.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/ASSEMBLY/2.0.0 http://maven.apache.org/xsd/assembly-2.0.0.xsd">
    <id>bin</id>
    <formats>
        <format>zip</format>
    </formats>
    <includeBaseDirectory>false</includeBaseDirectory>
    <fileSets>
        <fileSet>
            <directory>${project.basedir}/src/main/resources/tomcat-bin</directory>
            <outputDirectory>bin</outputDirectory>
            <directoryMode>0775</directoryMode>
            <fileMode>0775</fileMode>
            <useDefaultExcludes>false</useDefaultExcludes>
            <excludes>
                <exclude>catalina.sh</exclude>
            </excludes>
        </fileSet>
        <fileSet>
            <directory>${project.basedir}/src/main/resources/tomcat-conf-lite</directory>
            <outputDirectory>conf</outputDirectory>
            <directoryMode>0775</directoryMode>
            <fileMode>0664</fileMode>
            <useDefaultExcludes>false</useDefaultExcludes>
            <excludes>
                <exclude>server.xml</exclude>
                <exclude>context.xml</exclude>
                <exclude>logback.xml</exclude>
            </excludes>
        </fileSet>
        <fileSet>
            <directory>${project.basedir}/src/main/resources/tomcat-keys</directory>
            <outputDirectory>conf</outputDirectory>
            <directoryMode>0775</directoryMode>
            <fileMode>0664</fileMode>
        </fileSet>
        <fileSet>
            <directory>${project.basedir}/src/main/resources/tomcat-temp</directory>
            <outputDirectory>temp</outputDirectory>
            <directoryMode>0775</directoryMode>
            <fileMode>0664</fileMode>
        </fileSet>
        <fileSet>
            <directory>${project.basedir}/src/main/resources/tomcat-logs</directory>
            <outputDirectory>logs</outputDirectory>
            <directoryMode>0775</directoryMode>
            <fileMode>0664</fileMode>
        </fileSet>
    </fileSets>
    <files>
        <file>
            <source>${project.basedir}/src/main/resources/tomcat-bin/catalina.sh</source>
            <outputDirectory>bin</outputDirectory>
            <filtered>true</filtered>
            <fileMode>0775</fileMode>
        </file>
        <file>
            <source>${project.basedir}/src/main/resources/tomcat-conf-lite/server.xml</source>
            <outputDirectory>conf</outputDirectory>
            <filtered>true</filtered>
            <fileMode>0664</fileMode>
        </file>
        <file>
            <source>${project.basedir}/src/main/resources/tomcat-conf-lite/context.xml</source>
            <outputDirectory>conf</outputDirectory>
            <filtered>true</filtered>
            <fileMode>0664</fileMode>
        </file>
        <file>
            <source>${project.basedir}/src/main/resources/tomcat-conf-lite/logback.xml</source>
            <outputDirectory>conf</outputDirectory>
            <filtered>true</filtered>
            <fileMode>0664</fileMode>
        </file>
    </files>
    <dependencySets>
        <dependencySet>
            <scope>compile</scope>
            <outputDirectory>lib</outputDirectory>
            <outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>
            <directoryMode>0775</directoryMode>
            <fileMode>0664</fileMode>
            <useProjectArtifact>false</useProjectArtifact>
            <useTransitiveDependencies>false</useTransitiveDependencies>
            <includes>
                <include>org.apache.tomcat:*</include>
                <include>org.eclipse.jdt.core.compiler:*</include>
            </includes>
            <excludes>
                <exclude>org.apache.tomcat:tomcat-annotations-api</exclude>
                <exclude>org.apache.tomcat:tomcat-catalina</exclude>
                <exclude>org.apache.tomcat:tomcat-catalina-ant</exclude>
                <exclude>org.apache.tomcat:tomcat-catalina-ha</exclude>
                <exclude>org.apache.tomcat:tomcat-storeconfig</exclude>
                <exclude>org.apache.tomcat:tomcat-tribes</exclude>
                <exclude>org.apache.tomcat:tomcat-el-api</exclude>
                <exclude>org.apache.tomcat:tomcat-jasper</exclude>
                <exclude>org.apache.tomcat:tomcat-jasper-el</exclude>
                <exclude>org.apache.tomcat:tomcat-jaspic-api</exclude>
                <exclude>org.apache.tomcat:tomcat-jsp-api</exclude>
                <exclude>org.apache.tomcat:tomcat-servlet-api</exclude>
                <exclude>org.apache.tomcat:tomcat-websocket-api</exclude>
            </excludes>
        </dependencySet>
        <dependencySet>
            <scope>compile</scope>
            <outputDirectory>lib</outputDirectory>
            <outputFileNameMapping>annotations-api.${artifact.extension}</outputFileNameMapping>
            <directoryMode>0775</directoryMode>
            <fileMode>0664</fileMode>
            <useProjectArtifact>false</useProjectArtifact>
            <useTransitiveDependencies>false</useTransitiveDependencies>
            <includes>
                <include>org.apache.tomcat:tomcat-annotations-api</include>
            </includes>
        </dependencySet>
        <dependencySet>
            <scope>compile</scope>
            <outputDirectory>lib</outputDirectory>
            <outputFileNameMapping>catalina.${artifact.extension}</outputFileNameMapping>
            <directoryMode>0775</directoryMode>
            <fileMode>0664</fileMode>
            <useProjectArtifact>false</useProjectArtifact>
            <useTransitiveDependencies>false</useTransitiveDependencies>
            <includes>
                <include>org.apache.tomcat:tomcat-catalina</include>
            </includes>
        </dependencySet>
        <dependencySet>
            <scope>compile</scope>
            <outputDirectory>lib</outputDirectory>
            <outputFileNameMapping>catalina-ant.${artifact.extension}</outputFileNameMapping>
            <directoryMode>0775</directoryMode>
            <fileMode>0664</fileMode>
            <useProjectArtifact>false</useProjectArtifact>
            <useTransitiveDependencies>false</useTransitiveDependencies>
            <includes>
                <include>org.apache.tomcat:tomcat-catalina-ant</include>
            </includes>
        </dependencySet>
        <dependencySet>
            <scope>compile</scope>
            <outputDirectory>lib</outputDirectory>
            <outputFileNameMapping>catalina-ha.${artifact.extension}</outputFileNameMapping>
            <directoryMode>0775</directoryMode>
            <fileMode>0664</fileMode>
            <useProjectArtifact>false</useProjectArtifact>
            <useTransitiveDependencies>false</useTransitiveDependencies>
            <includes>
                <include>org.apache.tomcat:tomcat-catalina-ha</include>
            </includes>
        </dependencySet>
        <dependencySet>
            <scope>compile</scope>
            <outputDirectory>lib</outputDirectory>
            <outputFileNameMapping>catalina-storeconfig.${artifact.extension}</outputFileNameMapping>
            <directoryMode>0775</directoryMode>
            <fileMode>0664</fileMode>
            <useProjectArtifact>false</useProjectArtifact>
            <useTransitiveDependencies>false</useTransitiveDependencies>
            <includes>
                <include>org.apache.tomcat:tomcat-storeconfig</include>
            </includes>
        </dependencySet>
        <dependencySet>
            <scope>compile</scope>
            <outputDirectory>lib</outputDirectory>
            <outputFileNameMapping>catalina-tribes.${artifact.extension}</outputFileNameMapping>
            <directoryMode>0775</directoryMode>
            <fileMode>0664</fileMode>
            <useProjectArtifact>false</useProjectArtifact>
            <useTransitiveDependencies>false</useTransitiveDependencies>
            <includes>
                <include>org.apache.tomcat:tomcat-tribes</include>
            </includes>
        </dependencySet>
        <dependencySet>
            <scope>compile</scope>
            <outputDirectory>lib</outputDirectory>
            <outputFileNameMapping>el-api.${artifact.extension}</outputFileNameMapping>
            <directoryMode>0775</directoryMode>
            <fileMode>0664</fileMode>
            <useProjectArtifact>false</useProjectArtifact>
            <useTransitiveDependencies>false</useTransitiveDependencies>
            <includes>
                <include>org.apache.tomcat:tomcat-el-api</include>
            </includes>
        </dependencySet>
        <dependencySet>
            <scope>compile</scope>
            <outputDirectory>lib</outputDirectory>
            <outputFileNameMapping>jasper.${artifact.extension}</outputFileNameMapping>
            <directoryMode>0775</directoryMode>
            <fileMode>0664</fileMode>
            <useProjectArtifact>false</useProjectArtifact>
            <useTransitiveDependencies>false</useTransitiveDependencies>
            <includes>
                <include>org.apache.tomcat:tomcat-jasper</include>
            </includes>
        </dependencySet>
        <dependencySet>
            <scope>compile</scope>
            <outputDirectory>lib</outputDirectory>
            <outputFileNameMapping>jasper-el.${artifact.extension}</outputFileNameMapping>
            <directoryMode>0775</directoryMode>
            <fileMode>0664</fileMode>
            <useProjectArtifact>false</useProjectArtifact>
            <useTransitiveDependencies>false</useTransitiveDependencies>
            <includes>
                <include>org.apache.tomcat:tomcat-jasper-el</include>
            </includes>
        </dependencySet>
        <dependencySet>
            <scope>compile</scope>
            <outputDirectory>lib</outputDirectory>
            <outputFileNameMapping>jaspic-api.${artifact.extension}</outputFileNameMapping>
            <directoryMode>0775</directoryMode>
            <fileMode>0664</fileMode>
            <useProjectArtifact>false</useProjectArtifact>
            <useTransitiveDependencies>false</useTransitiveDependencies>
            <includes>
                <include>org.apache.tomcat:tomcat-jaspic-api</include>
            </includes>
        </dependencySet>
        <dependencySet>
            <scope>compile</scope>
            <outputDirectory>lib</outputDirectory>
            <outputFileNameMapping>jsp-api.${artifact.extension}</outputFileNameMapping>
            <directoryMode>0775</directoryMode>
            <fileMode>0664</fileMode>
            <useProjectArtifact>false</useProjectArtifact>
            <useTransitiveDependencies>false</useTransitiveDependencies>
            <includes>
                <include>org.apache.tomcat:tomcat-jsp-api</include>
            </includes>
        </dependencySet>
        <dependencySet>
            <scope>compile</scope>
            <outputDirectory>lib</outputDirectory>
            <outputFileNameMapping>servlet-api.${artifact.extension}</outputFileNameMapping>
            <directoryMode>0775</directoryMode>
            <fileMode>0664</fileMode>
            <useProjectArtifact>false</useProjectArtifact>
            <useTransitiveDependencies>false</useTransitiveDependencies>
            <includes>
                <include>org.apache.tomcat:tomcat-servlet-api</include>
            </includes>
        </dependencySet>
        <dependencySet>
            <scope>compile</scope>
            <outputDirectory>lib</outputDirectory>
            <outputFileNameMapping>websocket-api.${artifact.extension}</outputFileNameMapping>
            <directoryMode>0775</directoryMode>
            <fileMode>0664</fileMode>
            <useProjectArtifact>false</useProjectArtifact>
            <useTransitiveDependencies>false</useTransitiveDependencies>
            <includes>
                <include>org.apache.tomcat:tomcat-websocket-api</include>
            </includes>
        </dependencySet>
    </dependencySets>
</assembly>
